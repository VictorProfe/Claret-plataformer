[gd_scene load_steps=8 format=3 uid="uid://dxev2igc1wpv5"]

[ext_resource type="Script" path="res://World/world.gd" id="1_0p26b"]
[ext_resource type="PackedScene" uid="uid://b3vkmfxunohh8" path="res://Personatges/player.tscn" id="2_5i3lu"]
[ext_resource type="PackedScene" uid="uid://cbmvs6l784pvc" path="res://Menus/Menu nivell completat/level_completed.tscn" id="5_71w1o"]
[ext_resource type="PackedScene" uid="uid://bx8enf5ix4chl" path="res://Nivells/level_tile_map.tscn" id="6_neyq2"]

[sub_resource type="Animation" id="Animation_rgliv"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasLayer/StartIn/CenterContainer/StartInLabel:text")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["Start in: 3"]
}

[sub_resource type="Animation" id="Animation_md5ff"]
resource_name = "countdown"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasLayer/StartIn/CenterContainer/StartInLabel:text")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": ["Start in: 3", "Start in: 2", "Start in: 1"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_pnolj"]
_data = {
"RESET": SubResource("Animation_rgliv"),
"countdown": SubResource("Animation_md5ff")
}

[node name="World" type="Node2D"]
script = ExtResource("1_0p26b")

[node name="Player" parent="." instance=ExtResource("2_5i3lu")]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="LevelCompleted" parent="CanvasLayer" instance=ExtResource("5_71w1o")]
visible = false

[node name="StartIn" type="ColorRect" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.282353)

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/StartIn"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="StartInLabel" type="Label" parent="CanvasLayer/StartIn/CenterContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Start in: 3"

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer"]
anchors_preset = 10
anchor_right = 1.0
offset_top = 4.0
offset_bottom = 12.0
grow_horizontal = 2

[node name="LevelTimeLabel" type="Label" parent="CanvasLayer/CenterContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(32, 0)
layout_mode = 2
vertical_alignment = 1

[node name="LevelTileMap" parent="." instance=ExtResource("6_neyq2")]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
process_mode = 3
libraries = {
"": SubResource("AnimationLibrary_pnolj")
}

[node name="LevelTileMap2" parent="." instance=ExtResource("6_neyq2")]
layer_0/tile_data = PackedInt32Array(0, 131072, 0, 65536, 131072, 1, 131072, 131072, 1, 196608, 131072, 1, 262144, 131072, 1, 458752, 327680, 2, 393216, 131072, 1, 327680, 131072, 1, 524288, 65536, 1, 589824, 65536, 1, 655360, 65536, 1, 655361, 65536, 1, 655362, 65536, 1, 655363, 65536, 1, 655364, 65536, 1, 655365, 65536, 1, 655366, 65536, 1, 720897, 65536, 2, 720896, 65536, 2, 720898, 65536, 2, 720899, 65536, 2, 720900, 65536, 2, 720901, 65536, 2, 720902, 65536, 2, 720903, 65536, 2, 720904, 65536, 2, 720905, 65536, 2, 720906, 65536, 2, 720907, 65536, 2, 720908, 65536, 2, 720909, 65536, 2, 655373, 65536, 1, 655372, 65536, 1, 655371, 65536, 1, 655370, 393216, 2, 655369, 65536, 0, 655368, 65536, 0, 655367, 327680, 2, 589831, 131072, 1, 524295, 458752, 2, 458759, 196608, 0, 589830, 65536, 1, 524294, 65536, 0, 524293, 65536, 0, 524292, 65536, 0, 524291, 65536, 0, 589827, 65536, 1, 589828, 65536, 1, 589829, 65536, 1, 589826, 65536, 1, 589825, 65536, 1, 524289, 65536, 1, 458753, 65536, 0, 458754, 131072, 0, 524290, 327680, 2, 589834, 0, 1, 524298, 0, 0, 524299, 65536, 0, 589835, 65536, 1, 524300, 65536, 0, 524301, 65536, 0, 589837, 65536, 1, 589836, 65536, 1, 65535, 0, 0, 131071, 0, 1, 196607, 0, 1, 262143, 0, 1, 327679, 0, 1, 393215, 0, 1, 458751, 0, 1, 524287, 0, 1, 589823, 0, 1, 655359, 0, 1, 720895, 0, 1, 786431, 0, 2, 524305, 65536, 0, 589841, 65536, 1, 655377, 65536, 1, 720913, 65536, 2, 18, 131072, 0, 65554, 131072, 1, 131090, 131072, 1, 196626, 131072, 2, 524306, 524288, 2, 589842, 65536, 1, 655378, 65536, 1, 720914, 65536, 2, 524307, 65536, 0, 589843, 65536, 1, 655379, 65536, 1, 720915, 65536, 2, 17, 0, 0, 65553, 0, 1, 131089, 0, 1, 196625, 0, 2, 524308, 65536, 0, 589844, 65536, 1, 655380, 65536, 1, 720916, 65536, 2, 21, 0, 0, 65557, 0, 1, 131093, 0, 1, 196629, 0, 1, 262165, 0, 1, 327701, 0, 1, 393237, 0, 1, 458773, 0, 1, 524309, 393216, 2, 589845, 65536, 1, 655381, 65536, 1, 720917, 65536, 2, 22, 131072, 0, 65558, 131072, 1, 131094, 131072, 1, 196630, 131072, 1, 262166, 131072, 1, 327702, 131072, 1, 393238, 131072, 1, 458774, 131072, 1, 524310, 131072, 1, 589846, 131072, 1, 655382, 131072, 1, 720918, 131072, 2, 458770, 196608, 0, 589838, 65536, 1, 589839, 65536, 1, 589840, 65536, 1, 655374, 65536, 1, 655375, 65536, 1, 655376, 65536, 1, 720910, 65536, 1, 720911, 65536, 1, 720912, 65536, 1, 524302, 65536, 0, 524303, 65536, 0, 524304, 65536, 0, -196597, 0, 0, -196596, 65536, 0, -196595, 131072, 0, -131061, 0, 1, -131060, 65536, 1, -131059, 131072, 1)
layer_1/tile_data = PackedInt32Array(458758, 262145, 0, 458757, 196609, 0, 458755, 393218, 0, 458766, 262145, 0, 458765, 196609, 0, 458759, 131072, 0, 524295, 131072, 1, 524294, 65536, 1, 524290, 65536, 1, 458754, 65536, 0, 524291, 327682, 0, 524293, 327681, 0, 524301, 327681, 0, 458767, 131072, 0, 524302, 65536, 1, 524303, 327680, 2)

[connection signal="next_level" from="CanvasLayer/LevelCompleted" to="." method="_on_level_completed_next_level"]
[connection signal="retry" from="CanvasLayer/LevelCompleted" to="." method="_on_level_completed_retry"]
